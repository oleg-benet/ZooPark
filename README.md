![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSY-9Fi6JoNhsJz9FIZQ1R8XzuCBK34UAopUD7hO33E8toyDLvRCieIYOEgeudoZQnXGhc&usqp=CAU)


###    Телеграм-бот для Московского зоопарка.

1.  Запуск бота сопровождается приветствием с логотипом зоопарка


2.  Взаимодествие с пользователем реализовано использованием инлайн клавиатуры на каждом этапе
    Однако, обработка ответов продублирована и message-хендлерами в случае, если пользователь попытается
    воспользоваться строкой ввода. При полном совпадении введенного текста с наименованием инлайн клавиши отработка будет аналогичной.
    Иначе - сообщение об ошибке и вновь предлагается клавиатура. 
 

3.  Создан класс Animal (модуль animals.py) 
    Для демонстрации работы бота выбраны 16 животных - объектов класса Animal 
    Атрибуты объекта для выбора в процессе викторины следующие:
    - среда обитания
    - вид питания
    - темперамент
    - размер
    - стадность
    - время активности
    - черта характера
     <br> Каждый атрибут имеет несколько возможных вариантов. Например: 
    - среда обитания - суша, воздух, вода, суша-вода
    - вид питания - трава, мясо, то и другое
    - размер - малый, средний, крупный и т.д. 
    <br>Исходя из вариантов атрибутов, сформулированы вопросы с соответствующим количеством вариантов ответов. Во избежание возможной 
    очевидности ответа на поставленный вопрос была сделана попытка использовать вопросы мало связанные с темой викторины, а именно:
    - среда обитания: 'С кем бы Вы хотели оказаться в одной компании?'
             Гагарин - воздух, Жак Ив Кусто - вода, Николай Рерих - суша, Афанасий Никитин - суша_вода
    - вид питания:    'Представьте, что Вы не ели шесть дней. И вот перед Вами еда. Что выберите?'
             Шашлык - мясо, Винегрет - трава, Голубцы - то и другое
    - размер:         'Выберите кубик'
             Игральные кости - малый', Кубик Рубика - средний, Кубометр дров - крупный



4.  Вопросы являются объектами класса Question (модуль questions.py). Каждому вопросу соответствует определенный вес.
    Этот вес, целое число, является одним из аттрибутов вопроса. Веса заданы почти произвольно, но все-таки с учетом значимости 
    соответствующей характеристики животного. Например, среда обитания - один из важных признаков, вес - 5; хищник или травоядное,
    вес - 4; темперамент - 1; и т.д.
    Метод  compare() класса  Animal подсчитывает сумму произведений характеристик животного на соответствующий вес, если эта 
    характеристика выдана пользователем посредством выбора варианта ответа.


5. "Тотемное" животное выбирается по наибольшей такой сумме.


6.  Фотография выбранного животного демонстрируется пользователю
 

7.  На данном этапе можно отправить результат викторины в виде фото животного на страницу "зоопарка" (в действительности - страницу разработчика) в VK
    вместе с активной ссылкой на ТГ-бота. 
    Механизм реализован в обработчике
                                      callback_share(callback: CallbackQuery, state: FSMContext) модуля custody_handlers_1.py


8.  Пользовватель может позвонить ответственному лицу, написать письмо. При этом сотруднику пересылается результат прохождения викторины.


9.  После получения результата пользователь может пройти викторину заново.


10. Личные данные ботом не запрашиваются.


11. Пользователь может отправить отзыв о работе бота.


12. Масштабируемость должна достигаться использованием асинхронных библиотек  <b>aiofiles, aiogram, aiohttp, aiosqlite</b>
     

13. В боте использовано логирование с выводом в консоль. Для анализа бот создает и заполняет БД (вносит время входа, user_id, user_name  возможный отзыв).


14. В части бота, относящейся непосредственно к викторине, реализован принцип динамического создания инлайн клавиатур, callback-хендлеров, состояний FSM, 
    а также задание этих состояний на вход и выход соответствующих хендлеров.
    Чтобы изменить викторину в смысле изменения количества животных, количества характеристик каждого животного, переформулирования вопросов и возможных
    вариантов ответов достаточно внести изменения только в модули animals.py и questions.py.